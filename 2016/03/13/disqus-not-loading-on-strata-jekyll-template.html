<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
  	<head profile="http://www.w3.org/2005/10/profile">
  		<title> Disqus Not Loading on Strata Jekyll Template | Àlex Rodríguez Bacardit's personal website</title>
  		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
      
        <meta name="description" content="After two years of putting off the decision of creating a personal website, yesterday I put an end to this agony." />
      
      <meta name="keywords" content="sales, blogging, startups, ruby on rails, rails, web development, startups, consultancy, Barcelona, tacos" />

      <!-- Facebook Open Graph -->
      
  <!-- Same for all pages -->
  <meta property="og:url" content="http://www.alexrodba.com/2016/03/13/disqus-not-loading-on-strata-jekyll-template.html" />
  <meta property="og:title" content="Disqus Not Loading on Strata Jekyll Template" />
  <meta property="og:description" content="After two years of putting off the decision of creating a personal website, yesterday I put an end to this agony." />
  <meta property="og:site_name" content="Àlex Rodríguez Bacardit's personal website" />
  <meta property="og:locale" content="en_US" />

  <!-- Only for blog posts -->

  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://www.alexrodba.com/images/fulls/20160313post.png" />


      <!-- Twitter cards -->
      <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@lexrodba">
<meta name="twitter:creator" content="@lexrodba">
<meta name="twitter:title" content="Disqus Not Loading on Strata Jekyll Template">
<meta name="twitter:description" content="After two years of putting off the decision of creating a personal website, yesterday I put an end to this agony.">
<meta name="twitter:image" content="http://www.alexrodba.com/images/fulls/20160313post.png">


  		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
  		<script src="/js/jquery.min.js"></script>
  		<script src="/js/jquery.poptrox.min.js"></script>
  		<script src="/js/skel.min.js"></script>
  		<script src="/js/init.js"></script>
  		<noscript>
  			<link rel="stylesheet" href="/css/skel.css" />
  			<link rel="stylesheet" href="/css/style.css" />
  			<link rel="stylesheet" href="/css/style-xlarge.css" />
  		</noscript>
  		<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
      <link rel="alternate" type="application/rss+xml" title="Àlex Rodríguez Bacardit RSS feed" href="/feed.xml"/>
      <link rel="alternate" type="application/atom+xml" title="Àlex Rodríguez Bacardit Atom feed" href="/atom.xml" />
      <link rel="icon" type="image/png" href="/images/icons/favicon9.png">
  	</head>

	<body id="top">

      <header id="header" itemscope itemtype="http://schema.org/Person">
          <a href="/" class="image avatar"><img src="/images/avatar.png" itemprop="image" alt="Àlex Rodríguez Bacardit" title="Àlex Rodríguez Bacardit" /></a>
          <h1 class="mainheader"><strong>I am <a href="/">Àlex</a></strong>,<span style="display:block">
          CMO & Co-founder at <a href="https://www.marsbased.com" title="MarsBased website" target="_blank">MarsBased</a> </span><span style="display:block">
          Regional Director at <a href="http://www.startupgrind.com/barcelona" title="Startup Grind Barcelona website" target="_blank">Startup Grind</a></span></h1>

          <meta itemprop="name" content="Àlex Rodríguez Bacardit"/>
<meta itemprop="url" content="http://www.alexrodba.com"/>
<meta itemprop="gender" content="Male"/>
<meta itemprop="email" content="alex@marsbased.com"/>
<meta itemprop="jobTitle" content="CMO & co-founder at MarsBased and Regional Director at Startup Grind"/>
<link itemprop="sameAs" href="https://github.com/alexrodba"/>
<link itemprop="sameAs" href="https://twitter.com/lexrodba"/>
<link itemprop="sameAs" href="https://linkedin.com/in/alexrodba"/>
<link itemprop="sameAs" href="https://medium.com/@lexrodba"/>
<link itemprop="sameAs" href="https://plus.google.com/+%C3%80lexRodr%C3%ADguezBacardit"/>
<link itemprop="sameAs" href="https://www.facebook.com/alex.rodba"/>
<link itemprop="sameAs" href="https://www.instagram.com/alexrodba"/>
<link itemprop="sameAs" href="http://www.last.fm/user/afuckinside"/>
<link itemprop="sameAs" href="https://open.spotify.com/user/alex.rodba"/>
<link itemprop="sameAs" href="https://www.goodreads.com/user/show/959492-lex-rodr-guez-bacardit"/>

      </header>


        <div id="main" class="blog">
    <article itemscope itemtype="http://schema.org/BlogPosting">
        <header class="major">
            <h2 class="post-title" itemprop="headline">Disqus Not Loading on Strata Jekyll Template</h2>
                <span class="post-icon">

  
  <img src="/images/icons/jekyll.png" alt="Post from the Jekyll category"></span>
  

</span>

                <p class="post-meta"><span itemprop="datePublished">Mar 13, 2016 
• 
  
    
    4
    
       minutes to read
    
  


 • <a href="#disqus_thread" title=""><script type="text/javascript">DISQUSWIDGETS.getCount({reset: true});</script></a></p>

                


        </header>

        <section itemprop="articleBody">
            <p><img src="/images/fulls/20160313post.png" title="Disqus code snippet" alt="Disqus code snippet" class="fit image" /> After two years of putting off the decision of creating a personal website, yesterday I put an end to this agony.</p>

<p>Thanks to the <a href="http://jekyllthemes.org/themes/strata/" title="Strata Jekyll Template" target="_blank">Strata Jekyll template</a> and Github pages I’ve been able to set this up, with a few tweaks here and there, in a mere two hours. Most of the time I spent working on the content and tweaking the look and feel.</p>

<p>However, I have had some issues while implementing Disqus to enhance the blog. Strata did not include Disqus out of the box. Even if I’ve implemented it several times in the past, there was some rust to shake off, as I’m nowadays doing only business development for <a href="https://marsbased.com" title="MarsBased website" target="_blank">MarsBased</a>. I haven’t <em>really</em> coded for a couple of years or more. This time, I’ve had a couple of issues before I got it working.</p>

<p>First of all, I did not get the code snipped right. I copied it from a previous website and looks like Disqus was taking none of it. It’s changed in the last versions, so make sure you’re getting the last version of the code snippet.</p>

<p>I was following <a href="https://help.disqus.com/customer/portal/articles/472138-jekyll-installation-instructions" title="Disques Official Documentation" target="_blank">Disqus’ official documentation</a> to install the popular comments system. However, when I got <a href="https://marsbased.disqus.com/admin/universalcode/" title="Disqus code snippet" target="_blank">the code snippet</a> I couldn’t get it loading.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">       <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"row"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"disqus_thread"</span><span class="o">&gt;&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
        <span class="cm">/**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */</span>

        <span class="kd">var</span> <span class="nx">disqus_config</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="s1">'http://alexrodba.github.io/2016/03/13/disqus-not-loading-on-strata-jekyll-template.html'</span><span class="p">;</span> <span class="c1">// Replace PAGE_URL with your page's canonical URL variable</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">identifier</span> <span class="o">=</span> <span class="s1">'/2016/03/13/disqus-not-loading-on-strata-jekyll-template'</span><span class="p">;</span> <span class="c1">// Replace PAGE_IDENTIFIER with your page's unique identifier variable</span>
        <span class="p">};</span>

        <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// DON'T EDIT BELOW THIS LINE</span>
        <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nb">document</span><span class="p">,</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>

        <span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'//alexrodba.disqus.com/embed.js'</span><span class="p">;</span>

        <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'data-timestamp'</span><span class="p">,</span> <span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">());</span>
        <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">head</span> <span class="o">||</span> <span class="nx">d</span><span class="p">.</span><span class="nx">body</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
        <span class="p">})();</span>
        <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">noscript</span><span class="o">&gt;</span><span class="nx">Please</span> <span class="nx">enable</span> <span class="nx">JavaScript</span> <span class="nx">to</span> <span class="nx">view</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">"https://disqus.com/?ref_noscript"</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">"nofollow"</span><span class="o">&gt;</span><span class="nx">comments</span> <span class="nx">powered</span> <span class="nx">by</span> <span class="nx">Disqus</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/a&gt;&lt;/</span><span class="nx">noscript</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="sr">/div&gt;</span></code></pre></figure>

<p>When you sign up for Disqus, you select a username, and that is usually enough (or it used to be like this). Now you need to login to your account to confirm the username (weird, why asking it in the signup?) and then add the trusted domains - as always. To confirm the trusted domains, go to the ‘Advanced’ settings tab and include the domain of your site. So if your domain is ‘www.marsbased.com’, you need to write ‘marsbased.com’.</p>

<p>That enabled the load of Disqus itself, but once I loaded the page, I could not see it. A quick inspect at the generated HTML told me the content was there. Turns out, for some reason the div with id=”disqus_thread” had no width. I solved it by adding this to the CSS file of my site:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">#disqus_thread{
    width: 100%;
}</code></pre></figure>

<p>If that were not enough, turns out that when I deployed live, Disqus would load on some pages, while on some others it would not. That’s because I hadn’t set the <strong>this.page.url</strong> parameter using an absolute URL. If you don’t set it to an absolute URL, Disqus will load in some pages while in some others it might not.</p>

<p>Last, but not least, you in the Jekyll documentation they recommend that you wrap up the Disqus code between <strong>  {% if post.comments %}  </strong> block so that you can turn on and off at post level. That seemed to work fine when deploying locally but did not work then pushing it to Github pages. Because I did not want to waste time on it, I completely removed that condition. I also want Disqus to show up in all blog posts.</p>

<p>In case none of the above worked, you might want to check this <a href="https://help.disqus.com/customer/portal/articles/472007-i-m-receiving-the-message-%22we-were-unable-to-load-disqus-%22" title="Disqus help center" target="_blank">thread on the Disqus help center for the infamous ‘We were unable to load Disqus’ message</a>.</p>

<p><strong>UPDATE (2016-04-16):</strong> I found lately that Disqus was loading randomly again. After a couple hours tweaking here and there, I found that I hadn’t changed the URL of the page in the Disqus Admin panel. It still reflected the original Github Pages URL, not the one with the current domain www.alexrodba.com. Setting it to reflect the current domain fixed the issue.</p>

<p>Hope that was useful!</p>

<p><strong>Now Playing:</strong> <a href="https://open.spotify.com/track/03zYFtluA21jFWQVPMbUYO" title="In Flames - Only for the Weak" target="_blank"><i class="fa fa-spotify"></i> In Flames - Only for the Weak</a>.</p>


            

        </section>

        <section>
        <div class="row">
        <div id="disqus_thread"></div>
        <script>
        /**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */

        var disqus_config = function () {
        this.page.url = 'http://www.alexrodba.com/2016/03/13/disqus-not-loading-on-strata-jekyll-template.html'; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = '/2016/03/13/disqus-not-loading-on-strata-jekyll-template'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };

        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//alexrodba.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </div>

        </section>

        <footer class="related">
            <div class="row">
            

                <article class="6u 12u(small) excerpt">
                    <header>
                        <span class="post-icon">

  
  <img src="/images/icons/news.png" alt="Post from the News category"></span>
  

</span>
<h2 class="post-title">
                        <a href="/2016/03/12/hello-mars.html">Hello Mars!</a></h2>
                        <p class="post-meta">Mar 12, 2016 
• 
  
    
    1
    
       minute to read
    
  


 • <a href="/2016/03/12/hello-mars.html#disqus_thread" title="Hello Mars!"><script type="text/javascript">DISQUSWIDGETS.getCount({reset: true});</script></a>
                        </p>
                    </header>
                    <section>
                        <p><img src="/images/fulls/20160312post.jpg" alt="Surface of Mars" title="Surface of Mars" class="fit image" /> Welcome to my new personal web page!</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/2016/03/12/hello-mars.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            

            

                <article class="6u$ 12u(small) excerpt f-right">
                    <header>
                        <span class="post-icon">

  
  <img src="/images/icons/business.png" alt="Post from the Business category"></span>
  

</span>
<h2 class="post-title"><a href="/2016/03/13/a-good-reason-to-buy-and-retain-your-domain-name.html">A Good Reason to Buy and Retain Your Domain Name</a></h2>
                        <p class="post-meta">Mar 13, 2016 
• 
  
    
    1
    
       minute to read
    
  


 • <a href="/2016/03/13/a-good-reason-to-buy-and-retain-your-domain-name.html#disqus_thread" title="A Good Reason to Buy and Retain Your Domain Name"><script type="text/javascript">DISQUSWIDGETS.getCount({reset: true});</script></a>
                        </p>
                    </header>
                    <section>
                        <p><img src="/images/fulls/20160313post2.jpeg" title="A Computer" alt="A Computer" class="fit image" /> No clickbait here: a 22400% price increase in a year is a good reason to buy a domain.</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/2016/03/13/a-good-reason-to-buy-and-retain-your-domain-name.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            </div>
        </footer>

    </article>

</div>


        <!-- Footer -->
        <footer id="footer">
            
            <ul class="copyright">
                <li>
                  <a href="/archive" title="All blog posts by Àlex Rodríguez Bacardit">
                    My posts
                  </a>
                </li>
                <li>
                  <a href="/talks" title="All talks by Àlex Rodríguez Bacardit">
                    My talks
                  </a>
                </li>
                <li>
                  <a href="/about" title="About Àlex Rodríguez Bacardit">
                    About me
                  </a>
                </li>
            </ul>



                        <ul class="icons">

              
              <li>
                <a href="https://github.com/alexrodba" class="icon fa-github" title="Àlex Rodríguez Bacardit on GitHub" target="_blank">
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://twitter.com/lexrodba" class="icon fa-twitter" title="Àlex Rodríguez Bacardit on Twitter" target="_blank">
                  <span class="label">Twitter</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://linkedin.com/in/alexrodba" class="icon fa-linkedin" title="Àlex Rodríguez Bacardit on LinkedIn" target="_blank">
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://medium.com/@lexrodba" class="icon fa-medium" title="Àlex Rodríguez Bacardit on Medium" target="_blank">
                  <span class="label">Medium</span>
                </a>
              </li>
              



              
              <li>
                <a href="https://www.facebook.com/alex.rodba" class="icon fa-facebook" title="Àlex Rodríguez Bacardit on Facebook" target="_blank">
                  <span class="label">Facebook</span>
                </a>
              </li>
              

              </ul>
              <ul class="icons">

              
              <li>
                <a href="https://www.instagram.com/alexrodba" class="icon fa-instagram" title="Àlex Rodríguez Bacardit on Instagram" target="_blank">
                  <span class="label">Instagram</span>
                </a>
              </li>
              

              
              <li>
                <a href="http://www.last.fm/user/afuckinside" class="icon fa-lastfm" title="Àlex Rodríguez Bacardit on LastFM" target="_blank">
                  <span class="label">Last.fm</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://open.spotify.com/user/alex.rodba" class="icon fa-spotify" title="Àlex Rodríguez Bacardit on Spotify" target="_blank">
                  <span class="label">Spotify</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://www.goodreads.com/user/show/959492-lex-rodr-guez-bacardit" class="icon fa-goodreads" title="Àlex Rodríguez Bacardit on GoodReads" target="_blank">
                  <span class="fa-lg" style="font-family:helvetica;vertical-align:text-top;">g</span>
                </a>
              </li>
              

              
              <li>
                <a href="mailto:alex@marsbased.com" class="icon fa-envelope-o">
                  <span class="label">alex@marsbased.com</span>
                </a>
              </li>
              
            </ul>


        </footer>

    <script id="dsq-count-scr" src="//alexrodba.disqus.com/count.js" async></script>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75319984-1', 'auto');
  ga('send', 'pageview');

</script>


	</body>
</html>
