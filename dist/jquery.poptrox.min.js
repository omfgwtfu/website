!function(o){var e="height",t="width",p="trigger",i="css",n='<iframe src="" frameborder="0" allowFullScreen="1"></iframe>',a=!1,r="stopPropagation",u="position",s="poptrox_close",l="fadeSpeed",d="length",f="text-align",h="popupNavPreviousSelector",v="poptrox_switch",x=!0,m="stopSpinning",b="popupCaptionSelector",g=null,w="popupHeight",C="popupNavNextSelector",y="click",k="popupCloserSelector",S="popupLoaderSelector",P="poptrox_previous",T="none",z="font-size",F="popupCaptionHeight",B="center",L="cursor",M="preventDefault",N="object",O="line-height",H="poptrox_reset",_="caption",j="overflow",I="poptrox_next",D="popupTextColor",E="text-indent",W="fadeIn",Z="poptrox_disableSelection",A="pointer",Q="absolute",q="auto",G="color",J="#000000",K="load",R="100%",U="usePopupNav",V="px",X="</div>",Y="relative",$="0",oo='<div class="',eo="popupWidth",to="z-index",po="outline",io="startSpinning",no="background",ao="captionText",ro="popupLoaderText",uo="popupCloserText",so="update",co="left",lo="poptrox",fo="prefix",ho="poptrox_open",vo="ignore",xo="usePopupEasyClose",mo="popupSelector",bo="type",go="selector",wo="image",Co="display",yo="title",ko="soundcloud",So="#FFFFFF",Po="hide",To="useBodyOverflow",zo="40px",Fo="href",Bo="xfin",Lo="attr",Mo="overlayOpacity",No="youtube";o.fn[Z]=function(){return o(this)[i]("user-select",T)[i]("-khtml-user-select",T)[i]("-moz-user-select",T)[i]("-o-user-select",T)[i]("-webkit-user-select",T)},o.fn[lo]=function(Oo){function Ho(){var p,n,a,r,u,s;Zo=o(window)[t](),Ao=o(window)[e]()+jo.windowHeightPad,p=Math.abs(Ko[t]()-Ko.outerWidth()),n=Math.abs(Ko[e]()-Ko.outerHeight()),a=Uo[t](),r=Uo[e](),u=Zo-2*jo.windowMargin-p,s=Ao-2*jo.windowMargin-n,Ko[i]("min-width",jo[eo])[i]("min-height",jo[w]),Ro.children()[i]("max-width",u)[i]("max-height",s)}var _o,jo,Io,Do,Eo,Wo,Zo,Ao,Qo,qo,Go,Jo,Ko,Ro,Uo,Vo,Xo,Yo,$o,oe,ee,te,pe;if(0==this[d])return o(this);if(this[d]>1){for(_o=0;_o<this[d];_o++)o(this[_o])[lo](Oo);return o(this)}return jo=o.extend({preload:a,baseZIndex:1e3,fadeSpeed:300,overlayColor:J,overlayOpacity:.6,overlayClass:"poptrox-overlay",windowMargin:50,windowHeightPad:0,selector:"a",caption:g,parent:"body",popupSpeed:300,popupWidth:200,popupHeight:100,popupIsFixed:a,useBodyOverflow:a,usePopupEasyClose:x,usePopupForceClose:a,usePopupLoader:x,usePopupCloser:x,usePopupCaption:a,usePopupNav:a,usePopupDefaultStyling:x,popupBackgroundColor:So,popupTextColor:J,popupLoaderTextSize:"2em",popupCloserBackgroundColor:J,popupCloserTextColor:So,popupCloserTextSize:"20px",popupPadding:10,popupCaptionHeight:60,popupCaptionTextSize:g,popupBlankCaptionText:"(untitled)",popupCloserText:"&#215;",popupLoaderText:"&bull;&bull;&bull;&bull;",popupClass:"poptrox-popup",popupSelector:g,popupLoaderSelector:".loader",popupCloserSelector:".closer",popupCaptionSelector:".caption",popupNavPreviousSelector:".nav-previous",popupNavNextSelector:".nav-next",onPopupClose:g,onPopupOpen:g},Oo),Io=o(this),Do=o("body"),Eo=o(oo+jo.overlayClass+'"></div>'),Wo=o(window),Qo=[],qo=0,Go=a,Jo=new Array,jo.usePopupLoader||(jo[S]=g),jo.usePopupCloser||(jo[k]=g),jo.usePopupCaption||(jo[b]=g),jo[U]||(jo[h]=g,jo[C]=g),Ko=o(jo[mo]?jo[mo]:oo+jo.popupClass+'">'+(jo[S]?'<div class="loader">'+jo[ro]+X:"")+'<div class="pic"></div>'+(jo[b]?'<div class="caption"></div>':"")+(jo[k]?'<span class="closer">'+jo[uo]+"</span>":"")+(jo[h]?'<div class="nav-previous"></div>':"")+(jo[C]?'<div class="nav-next"></div>':"")+X),Ro=Ko.find(".pic"),Uo=o(),Vo=Ko.find(jo[S]),Xo=Ko.find(jo[b]),Yo=Ko.find(jo[k]),$o=Ko.find(jo[C]),oe=Ko.find(jo[h]),ee=$o.add(oe),jo.usePopupDefaultStyling&&(Ko[i](no,jo.popupBackgroundColor)[i](G,jo[D])[i]("padding",jo.popupPadding+V),Xo[d]>0&&(Ko[i]("padding-bottom",jo[F]+V),Xo[i](u,Q)[i](co,$)[i]("bottom",$)[i](t,R)[i](f,B)[i](e,jo[F]+V)[i](O,jo[F]+V),jo.popupCaptionTextSize&&Xo[i](z,popupCaptionTextSize)),Yo[d]>0&&Yo.html(jo[uo])[i](z,jo.popupCloserTextSize)[i](no,jo.popupCloserBackgroundColor)[i](G,jo.popupCloserTextColor)[i](Co,"block")[i](t,zo)[i](e,zo)[i](O,zo)[i](f,B)[i](u,Q)[i]("text-decoration",T)[i](po,$)[i]("top",$)[i]("right","-40px"),Vo[d]>0&&Vo.html("")[i](u,Y)[i](z,jo.popupLoaderTextSize).on(io,function(){var t=o("<div>"+jo[ro]+X);t[i](e,Math.floor(jo[w]/2)+V)[i](j,"hidden")[i](O,Math.floor(jo[w]/2)+V)[i](f,B)[i]("margin-top",Math.floor((Ko[e]()-t[e]()+(Xo[d]>0?Xo[e]():0))/2))[i](G,jo[D]?jo[D]:"").on(Bo,function(){t.fadeTo(300,.5,function(){t[p]("xfout")})}).on("xfout",function(){t.fadeTo(300,.05,function(){t[p](Bo)})})[p](Bo),Vo.append(t)}).on(m,function(){var o=Vo.find("div");o.remove()}),2==ee[d]&&(ee[i](z,"75px")[i](f,B)[i](G,"#fff")[i]("text-shadow",T)[i](e,R)[i](u,Q)[i]("top",$)[i]("opacity","0.35")[i](L,A)[i]("box-shadow","inset 0px 0px 10px 0px rgba(0,0,0,0)")[Z](),jo[xo]?(te="100px",pe="100px"):(te="75%",pe="25%"),$o[i]("right",$)[i](t,te).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; right: 0; margin-top: -50px;">&gt;</div>'),oe[i](co,$)[i](t,pe).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; left: 0; margin-top: -50px;">&lt;</div>'))),Wo.on("resize orientationchange",function(){Ho()}),Xo.on(so,function(o,e){e&&0!=e[d]||(e=jo.popupBlankCaptionText),Xo.html(e)}),Yo[i](L,A).on(y,function(o){return o[M](),o[r](),Ko[p](s),x}),$o.on(y,function(){Ko[p](I)}),oe.on(y,function(){Ko[p](P)}),Eo[i](u,"fixed")[i](co,0)[i]("top",0)[i](to,jo.baseZIndex)[i](t,R)[i](e,R)[i](f,B)[i](L,A).appendTo(jo.parent).prepend('<div style="display:inline-block;height:100%;vertical-align:middle;"></div>').append('<div style="position:absolute;left:0;top:0;width:100%;height:100%;background:'+jo.overlayColor+";opacity:"+jo[Mo]+";filter:alpha(opacity="+100*jo[Mo]+');"></div>')[Po]().on("touchmove",function(){return a}).on(y,function(o){o[M](),o[r](),Ko[p](s)}),jo[xo]&&Ro[i](L,A).on(y,function(o){o[M](),o[r](),Ko[p](s)}),Ko[i](Co,"inline-block")[i]("vertical-align","middle")[i](u,Y)[i](to,1).appendTo(Eo)[Po]().on(I,function(){var o=qo+1;o>=Qo[d]&&(o=0),Ko[p](v,[o])}).on(P,function(){var o=qo-1;o<0&&(o=Qo[d]-1),Ko[p](v,[o])}).on(H,function(){Ho(),Ko.data(t,jo[eo]).data(e,jo[w]),Vo[Po]()[p](m),Xo[Po](),Yo[Po](),ee[Po](),Ro[Po](),Uo.detach()}).on(ho,function(o,e){return Go?x:(Go=x,jo[To]&&Do[i](j,"hidden"),jo.onPopupOpen&&jo.onPopupOpen(),Eo.fadeTo(jo[l],1,function(){Ko[p](v,[e,x])}),void 0)}).on(v,function(n,r,s){var c;return!s&&Go?x:(Go=x,Ko[i](t,Ko.data(t))[i](e,Ko.data(e)),Xo[Po](),Uo[Lo]("src")&&Uo[Lo]("src",""),Uo.detach(),c=Qo[r],Uo=c[N],Uo.off(K),Ro[i](E,"-9999px").show().append(Uo),"ajax"==c[bo]?o.get(c.src,function(o){Uo.html(o),Uo[p](K)}):Uo[Lo]("src",c.src),c[bo]!=wo&&Uo[i](u,Y)[i](po,$)[i](to,jo.baseZIndex+100)[t](c[t])[e](c[e]),Vo[p](io)[W](300),Ko.show(),jo.popupIsFixed?(Ko[t](jo[eo])[e](jo[w]),Uo[K](function(){Uo.off(K),Vo[Po]()[p](m),Xo[p](so,[c[ao]])[W](jo[l]),Yo[W](jo[l]),Ro[i](E,0)[Po]()[W](jo[l],function(){Go=a}),qo=r,ee[W](jo[l])})):Uo[K](function(){var o,n,u;Ho(),Uo.off(K),Vo[Po]()[p](m),o=Uo[t](),n=Uo[e](),u=function(){Xo[p](so,[c[ao]])[W](jo[l]),Yo[W](jo[l]),Ro[i](E,0)[Po]()[W](jo[l],function(){Go=a}),qo=r,ee[W](jo[l]),Ko.data(t,o).data(e,n)[i](t,q)[i](e,q)},o==Ko.data(t)&&n==Ko.data(e)?u():Ko.animate({width:o,height:n},jo.popupSpeed,"swing",u)}),c[bo]!=wo&&Uo[p](K),void 0)}).on(s,function(){return Go&&!jo.usePopupForceClose?x:(Go=x,Ko[Po]()[p](H),jo.onPopupClose&&jo.onPopupClose(),Eo.fadeOut(jo[l],function(){jo[To]&&Do[i](j,q),Go=a}),void 0)})[p](H),Wo.keydown(function(o){if(Ko.is(":visible"))switch(o.keyCode){case 37:case 32:if(jo[U])return Ko[p](P),a;break;case 39:if(jo[U])return Ko[p](I),a;break;case 27:return Ko[p](s),a}}),Io.find(jo[go]).each(function(u){var s,l,f,h,v,m=o(this),b=m.find("img"),w=m.data(lo);if(m[Lo](Fo)){if(s={src:m[Lo](Fo),captionText:b[Lo](yo),width:m[Lo](t),height:m[Lo](e),type:g,object:g},jo[_]?"function"==typeof jo[_]?c=jo[_](m):go in jo[_]&&(f=m.find(jo[_][go]),"attribute"in jo[_]?c=f[Lo](jo[_].attribute):(c=f.html(),jo[_].remove===x&&f.remove())):c=b[Lo](yo),s[ao]=c,w){v=w.split(",");for(h in v)l=v[h].match(/([0-9]+)x([0-9]+)/),l&&3==l[d]?(s[t]=l[1],s[e]=l[2]):s[bo]=v[h]}if(!s[bo])switch(l=s.src.match(/http[s]?:\/\/([a-z0-9\.]+)\/.*/),(!l||l[d]<2)&&(l=[a]),l[1]){case"api.soundcloud.com":s[bo]=ko;break;case"youtu.be":s[bo]=No,s[t]=800,s[e]=480;break;case"vimeo.com":s[bo]="vimeo",s[t]=800,s[e]=480;break;case"wistia.net":s[bo]="wistia",s[t]=800,s[e]=480;break;case"bcove.me":s[bo]="bcove",s[t]=640,s[e]=360;break;default:s[bo]=wo}switch(l=s.src.match(/http([s]?):\/\/[a-z0-9\.]+\/(.*)/),l&&(s[fo]="http"+("s"==l[1]?"s":"")),s[bo]){case vo:break;case"iframe":s[N]=o('<iframe src="" frameborder="0"></iframe>'),s[N].on(y,function(o){o[r]()})[i](L,q);break;case"ajax":s[N]=o('<div class="poptrox-ajax"></div>'),s[N].on(y,function(o){o[r]()})[i](L,q)[i](j,q);break;case ko:s[N]=o('<iframe scrolling="no" frameborder="no" src=""></iframe>'),s.src=s[fo]+"://w.soundcloud.com/player/?url="+escape(s.src),s[t]="600",s[e]="166";break;case No:s[N]=o('<iframe src="" frameborder="0" allowfullscreen="1"></iframe>'),s.src=s[fo]+"://www.youtube.com/embed/"+l[2];break;case"vimeo":s[N]=o(n),s.src=s[fo]+"://player.vimeo.com/video/"+l[2];break;case"wistia":s[N]=o(n),s.src=s[fo]+"://fast.wistia.net/"+l[2];break;case"bcove":s[N]=o('<iframe src="" frameborder="0" allowFullScreen="1" width="100%"></iframe>'),s.src=s[fo]+"://bcove.me/"+l[2];break;default:s[N]=o('<img src="" alt="" style="vertical-align:bottom" />'),jo.preload&&(l=document.createElement("img"),l.src=s.src,Jo.push(l))}s[bo]!=vo&&Qo.push(s),b[Lo](yo,""),s[bo]!=vo&&m[Lo](Fo,"")[i](po,0).on(y,function(o){o[M](),o[r](),Ko[p](ho,[u])})}}),o(this)}}(jQuery);